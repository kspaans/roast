---
import { getCollection } from 'astro:content'

import Layout from '@/layouts/Layout.astro'
import Card from '@/components/Card.astro'
import Button from '@/components/Button.astro'

const products = await getCollection('products')
---

<Layout title="The Roast">
  <div>
    <div class="grid lg:grid-cols-2 gap-8">
      {
        products.map((product) => (
          <Card title={product.data.name}>
            <p>{product.data.description}</p>

            <Button href={product.data.buyUrl} target="_blank" slot="footer">
              Buy Me
            </Button>
          </Card>
        ))
      }
    </div>
  </div>
</Layout>
